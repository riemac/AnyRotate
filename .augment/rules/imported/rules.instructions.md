---
type: "agent_requested"
description: "询问isaacsim/isaaclab等有关问题或基于isaacsim/isaaclab进行开发时"
---
## 核心开发与协作原则

### 1. 🤖 主动反馈优先 (Proactive Feedback First) - [核心优化]

这是最重要的原则。在执行任何**非琐碎**的任务（例如，编写超过10行代码、设计新环境、修改关键逻辑、执行复杂的调试步骤）之前，**必须**使用 `mcp-feedback-enhanced` 工具来与我沟通。

此原则的核心是**将详细内容在对话中呈现，通过MCP工具进行简要确认**。

#### **沟通渠道与内容划分**

为了实现高效协作，我们按如下方式划分信息渠道：

| 沟通渠道 | 内容范围 |
| :--- | :--- |
| **✅ 我们的对话 (这里)** | 存放**所有**详细信息，包括：<br> - 完整的代码实现<br> - 详尽的步骤规划与分析<br> - 深入的技术原理解释<br> - 完整的错误日志和调试思路 |
| **✅ MCP Web 界面** | **仅用于**摘要和交互确认，例如：<br> - “我已在对话中输出了完整的环境代码，请您审阅。”<br> - “关于XXX的Bug，我在对话中提出了3个调试步骤，您看先尝试哪个？”<br> - “任务规划已在对话中列出，核心是A、B、C三点，请问是否可以开始执行？” |

#### **工作流程示例**

1.  **接收任务**: 您提出一个需求，如“创建一个新的机器人手臂环境”。
2.  **在对话中输出方案**: 我会在**当前对话窗口**中，详细输出我的完整计划：
    ```python
    # 我计划创建 MyArmEnv 类，继承自 BaseEnv
    # ... (此处是完整的、详细的代码和注释) ...
    print("代码结构如上，包含了观察空间、动作空间和奖励函数的设计。")
    ```
3.  **调用MCP工具请求确认**: 在对话中输出详细方案后，我**才会**调用 `interactive_feedback`，并在其中提供一个**简短的摘要**来请求您的批准。例如，MCP工具中显示的内容是：“我已在对话中设计了 `MyArmEnv` 的完整代码和实现思路。请您审阅并确认是否可以继续下一步？”
4.  **等待您的反馈**: 您在MCP界面上点击“同意”或提出修改意见。
5.  **继续执行**: 我根据您的反馈，继续在对话中进行下一步工作。

---

### 2. 🧐 杜绝臆想，事实驱动

始终以可查证的事实为依据。你的一切行为都应基于从以下信息源获取的知识，严禁编造或猜测 API。

- **第一信息源**: IsaacLab 本地源码、文档和示例。
- **第二信息源**: `context7` 工具提供的官方文档。
- **第三信息源**: 网络搜索到的官方或权威技术资料。

---

## 📝 开发与调试工作流

当在开发和调试过程中遇到问题时，你应严格遵循以下分阶段的工作流。

### 阶段一：任务理解与规划

当你接收到一个新的开发任务时：

1.  **分析需求**: 拆解我的需求，识别出其中的关键实体、目标和约束。
2.  **在对话中呈现规划**: **立即在对话中**输出你对任务的理解、实现计划和需要澄清的问题。
3.  **启动反馈**: 调用 `interactive_feedback`，用**一句话总结**你在对话中提出的规划，并请求确认。

### 阶段二：信息查询与探索

当你在开发中遇到不熟悉的 IsaacLab API、USD 概念或任何技术细节时：

1.  **制定查询计划**: 根据“核心原则”中的信息源优先级，在脑中形成一个查询计划。
2.  **（可选）快速确认**: 如果你不确定从何查起，可以简单提问，例如：“关于 `AssetCFG` 的详细用法，我将优先查询 IsaacLab 源码中的 `omni.isaac.lab.sim.spawners` 目录，这正确吗？”
3.  **执行查询**: 按照以下顺序执行查询，直到找到答案：
    1.  **优先查阅IsaacLab源码和文档**: 在 IsaacLab 项目目录中查找。关键路径包括：`docs/`、`source/`、`examples/`、`scripts/tutorials`。
    2.  **使用context7工具查询**: 调用 `mcp_context7_resolve-library-id` 和 `mcp_context7_get-library-docs`，精确搜索 `isaaclab` 或 `usd` 等关键词。
    3.  **其次使用网络搜索**: 如果内部文档无法解决，再进行网络搜索。

### 阶段三：调试与错误处理

当代码出现错误或行为不符合预期时：

1.  **收集环境信息**: **立即调用 `get_system_info`**，获取当前的系统环境（OS, Python 版本等），这是诊断问题的第一步。
2.  **分析错误**: 结合错误日志和系统环境信息，形成一个关于错误原因的初步假设。
3.  **在对话中提出调试方案**: **在对话中**清晰地展示：
    - 你收集到的错误信息和系统环境。
    - 你对错误原因的猜测。
    - 你计划采取的、分好步骤的调试方案。
4.  **调用MCP工具请求授权**: 调用 `interactive_feedback`，**简要说明**你已在对话中提供了调试方案，并请求授权开始执行。
5.  **等待授权**: 获得我的同意后，再开始执行调试操作。

---

## 🏛️ 工作区与代码实践

- **工作区结构**: 严格遵守**leaphand (开发项目)** 和 **IsaacLab (核心框架)** 的分离，绝不直接修改 IsaacLab 核心代码。
- **代码风格**: 保持与 IsaacLab 项目一致，提供丰富且易于理解的注释。
- **善用框架**: 充分利用 IsaacLab 提供的现有工具和框架功能，避免重复造轮子。
